<mat-sidenav-container>
  <mat-sidenav #sidenav mode="over" position="end">
    <div class="menu hamburger-menu" *ngIf="isLogged()">
      <div fxLayout="column" fxLayoutAlign="end end" class="mb-auto">
        <a (click)="sidenav.close()" routerLink="posts" routerLinkActive="active-link">Articles</a>
        <a (click)="sidenav.close()" routerLink="topics" routerLinkActive="active-link">Thèmes</a>
      </div>
      <a (click)="sidenav.close()" class="me-link" routerLink="me" routerLinkActive="active-link"><mat-icon>account_circle</mat-icon></a>
    </div>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="app">
      <mat-toolbar
        *ngIf="currentRoute != '/'"
        [ngClass]="{'toolbar-auth': currentRoute == '/register' || currentRoute == '/login'}"
        fxLayout="row"
        fxLayoutAlign="end center"
      >
        <a class="img-toolbar" routerLink=""><img src="assets/logo_p6.png" width="100" /></a>
        <div fxLayoutAlign="end center" class="menu toolbar-menu" *ngIf="isLogged()">
          <a routerLink="posts" routerLinkActive="active-link">Articles</a>
          <a routerLink="topics" routerLinkActive="active-link">Thèmes</a>
          <a class="me-link" routerLinkActive="active-link" routerLink="me"><mat-icon>account_circle</mat-icon></a>
        </div>
        <a class="hamburger-button" (click)="sidenav.toggle()"><mat-icon>menu</mat-icon></a>
      </mat-toolbar>
      <div
        fxLayout
        fxLayoutAlign="center center"
        *ngIf="currentRoute == '/'"
      >
        <img class="img-home" src="assets/logo_p6.png">
      </div>
      <div>
        <div class="loader" *ngIf="loading$ | async">
          <app-loader></app-loader>
        </div>
        <router-outlet></router-outlet>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
